<!DOCTYPE html>
<html>
<head>
    <title>SPARQL Query Tool</title>
</head>
<body>
    <h1>Run a SPARQL Query</h1>

    <form method="post">
        <h2>Select a Network Container</h2>
        <select name="network_container">
            <option value="">--Select a Network Container--</option>
            {% for container in network_containers %}
                <option value="{{ container.name }}">{{ container.name }} (IP: {{ container.ipv4_address }})</option>
            {% endfor %}
        </select>

        <h2>Select a Docker-in-Docker (DIND) Container</h2>
        <select name="dind_container">
            <option value="">--Select a DIND Container--</option>
            {% for container in dind_containers %}
                <option value="{{ container.name }}">{{ container.name }}</option>
            {% endfor %}
        </select>

        <br><br>
        <button type="submit" name="combine_button">Combine Containers</button>
    </form>

    {% if combined_containers %}
        <h2>Combined Containers:</h2>
        <pre>
            Network Container: {{ combined_containers.network_container }}
            Docker-in-Docker Container: {{ combined_containers.dind_container }}
        </pre>
    {% endif %}

    <h2>Enter SPARQL Query (Optional)</h2>
    <form method="post">
        <textarea name="query" rows="10" cols="80" placeholder="Enter your SPARQL query here"></textarea><br>
        <button type="submit">Submit SPARQL Query</button>
    </form>

    {% if results %}
        <h2>SPARQL Query Results:</h2>
        <pre>{{ results }}</pre>
    {% elif error %}
        <h2 style="color: red;">Error:</h2>
        <pre>{{ error }}</pre>
    {% endif %}
</body>
</html>
